import{q as D,r as a,W as P,j as e}from"./app-B7DAeqL8.js";import{I as i}from"./InputError-rEdZ1gnf.js";import{I,R}from"./ResponsiveDialog-DCgl53Gm.js";import{n as l,D as F,o as b,p as y,q as d,t as E}from"./DialogTitle-NqqdqGuZ.js";function q({status:m}){D().props.errors;const[u,p]=a.useState(!1),[g,c]=a.useState(!1),x=a.useRef(),f=a.useRef(),h=a.useRef(),{data:o,setData:n,post:j,delete:S,errors:s,processing:k,reset:v}=P({title:"",description:"",image:""}),C=()=>{p(!0)},r=()=>{p(!1)};return e.jsxs(a.Fragment,{children:[e.jsx(l,{variant:"outlined",onClick:C,children:"Show Post Form"}),e.jsxs(F,{open:u,onClose:r,PaperProps:{component:"form",onSubmit:t=>{t.preventDefault(),j("api/post/create"),Object.keys(s).length===0&&(r(),v()),c(!0)}},children:[e.jsx(b,{children:"Post"}),e.jsxs(y,{children:[e.jsx(d,{autoFocus:!0,margin:"dense",id:"title",name:"title",label:"Post Title",type:"text",ref:x,value:o.title,onChange:t=>n("title",t.target.value),fullWidth:!0,variant:"standard"}),e.jsx(i,{message:s.title,className:"mt-2"}),e.jsx(d,{margin:"dense",id:"description",name:"description",label:"Post Description",type:"text",ref:f,value:o.description,onChange:t=>n("description",t.target.value),fullWidth:!0,variant:"standard"}),e.jsx(i,{message:s.description,className:"mt-2"}),e.jsx(I,{inputRef:h,value:o.image,onChange:t=>{n("image",t.target.files[0])}}),e.jsx(i,{message:s.image,className:"mt-2"})]}),e.jsxs(E,{children:[e.jsx(l,{onClick:r,children:"Cancel"}),e.jsx(l,{type:"submit",children:"Add Post"})]})]}),s&&e.jsx(R,{openErrors:g,setOpenErrors:c,status:m,errors:s})]})}export{q as default};
